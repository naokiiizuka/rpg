const tileImage = new Image();
tileImage.src = "images/tiles.png"; // タイル画像のパス

export const map = [
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
  [0, 0, 0, 0, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 0],
  [0, 0, 0, 0, 1, 4, 2, 2, 2, 2, 2, 2, 4, 1, 0],
  [0, 0, 0, 0, 1, 4, 2, 4, 2, 2, 4, 2, 4, 1, 0],
  [0, 0, 0, 0, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 0],
  [0, 0, 0, 0, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 0],
  [0, 0, 0, 0, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 0],
  [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
  [0, 0, 0, 0, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 0],
  [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
];

// タイル画像のサイズを指定
const tileSize = 32;

// タイル画像を描画する関数
export function drawMap(ctx, tileSize) {
  for (let y = 0; y < map.length; y++) {
    for (let x = 0; x < map[y].length; x++) {
      const tileType = map[y][x]; // マップの値をタイルタイプとして使用

      // タイルの位置（X座標）を設定
      const tileX = tileType % 4; // タイルシートのX位置（例えば、10種類のタイルが1行に並んでいる場合）
      const tileY = Math.floor(tileType / 4); // タイルシートのY位置

      // タイル画像の描画
      ctx.drawImage(
        tileImage, // タイル画像オブジェクト
        tileX * tileSize, // タイルシート内のX座標
        tileY * tileSize, // タイルシート内のY座標
        tileSize, // タイルの幅
        tileSize, // タイルの高さ
        x * tileSize, // キャンバス上のX座標
        y * tileSize, // キャンバス上のY座標
        tileSize, // キャンバス上のタイル幅
        tileSize // キャンバス上のタイル高さ
      );
    }
  }
}
